################################################################################
#
# Build script for project
#
################################################################################

# Executable
EXECUTABLE	:= airfoil

# CUDA source files (compiled with nvcc)
CUFILES		:= airfoil_kernels.cu

# CUDA dependency files
CU_DEPS		:= op_datatypes.h \
		   op_lib.cu \
		   save_soln_kernel.cu \
		   adt_calc_kernel.cu \
		   res_calc_kernel.cu \
		   update_kernel.cu \
		   save_soln.h \
		   adt_calc.h \
		   res_calc.h \
		   update.h \
		   Makefile

# C/C++ source files (compiled with gcc / c++)
CCFILES		:= airfoil_op.cpp

# C/C++ dependency files
CC_DEPS		:= op_datatypes.h \
		   input.h


################################################################################
# Rules and targets

ROOTDIR = ../../NVIDIA_CUDA_SDK_2.2/common
BINDIR  = ./bin
include $(ROOTDIR)/common.mk

NVCCFLAGS += -Xptxas -v

NVCCFLAGS += -arch sm_13

NVCCFLAGS += -maxrregcount 40


# for sequential version:
# g++ -o airfoil airfoil.cpp op_seq.cpp
# 
# for parallel version:
# op2('airfoil')
#
# for x86 version generated by op2.m
# g++ -o airfoil_op airfoil_op.cpp airfoil_kernels.cpp
#
